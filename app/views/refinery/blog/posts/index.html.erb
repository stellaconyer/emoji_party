<% content_for :body do %>
  <%= raw @page.content_for(Refinery::Pages.default_parts.first.to_sym) if Refinery::Pages.default_parts.any? %>

  <% if params[:author] %>
    <% if params[:author].is_a? Numeric %>
      <% author = Refinery::User.find(params[:author]) %>
    <% else %>
      <% author = Refinery::User.find_by_username(params[:author]) %>
    <% end %>
    <% if author %>
      <h2 class="tag_header"><%= t('showing_posts_author', name: author.full_name) %></h2>
    <% end %>
  <% end %>

  <% if @posts.any? %>
    <section id="blog_posts">
      <%= render :partial => "/refinery/blog/shared/post", :collection => @posts %>
      <%= will_paginate @posts %>
    </section>
  <% else %>
    <p><%= t('.no_blog_articles_yet') %></p>
  <% end %>
<% end %>

<% content_for :side_body_prepend do -%>
  <%= raw @page.content_for(Refinery::Pages.default_parts.second.to_sym) %>
<% end if Refinery::Pages.default_parts.many? -%>
<%= render '/refinery/blog/shared/body_content_right' %>

<%= render "/refinery/content_page" %>
<% content_for :stylesheets, stylesheet_link_tag('refinery/blog/frontend') %>
